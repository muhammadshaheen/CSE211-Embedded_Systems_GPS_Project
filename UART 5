
#include "tm4c123gh6pm.h"
#include <string.h>




void UART5_Init(void){
  SYSCTL_RCGCUART_R |= 0x20;
	SYSCTL_RCGCGPIO_R |= 0x10;
	UART5_CTL_R &= ~0x01;          //disable UART5
	UART5_IBRD_R = 104;
	UART5_FBRD_R = 11;
	UART5_LCRH_R  |= 0x60;
	UART5_CTL_R |= 0x301;          //enable UART5
	GPIO_PORTE_AFSEL_R |= 0x30;
	GPIO_PORTE_PCTL_R = (GPIO_PORTE_PCTL_R & ~0x00FF0000) | 0x00110000;
	GPIO_PORTE_DEN_R |= 0x30;
}

char Read_Character(void){                          // to read a Character from uart 5
	while((UART5_FR_R & 0x10) != 0);
	return (char)(UART5_DR_R & 0xFF);
}


void Read_String(char* data , int length_String){                     //Read a string from UART 5 
	char character;
	int i = 0;
	for(i = 0;i < length_String;i++){
		character = Read_Character();
		if(character == 0x2A){                              // if charater = ascii code of * break the loop 
	             break;
		  }
			data[i] = character;
	}
}
